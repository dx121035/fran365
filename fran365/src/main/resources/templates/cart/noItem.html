<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout=http:www.ultraq.net.nz/thymeleaf/layout
      layout:decorate="~{fragments/layout1}">

<div layout:fragment="content">


    <!-- ============================================-->
    <!-- <section> begin ============================-->
    <div class="container">
        <div class="col-md-10 offset-md-1">
            <div class="card shadow-none border border-300 mb-3"
                 data-component-card="data-component-card">

                <div class="card-body p-0">
                    <div class="p-4 code-to-copy">
                        <br>
                        <h2 class="mb-6">장바구니</h2>
                        <div class="row g-5">
                            <div class="col-12 col-lg-8">




                                <div id="cartTable" data-list='{"valueNames":["name","price","createDate","quantity","total"]}'>
                                    <div class="table-responsive scrollbar mx-n1 px-1">
                                        <table class="table fs--1 mb-0 border-top border-200">
                                            <thead>
                                            <tr>
                                                <th class="sort white-space-nowrap align-middle fs--2" scope="col"></th>
                                                <th class="sort white-space-nowrap align-middle" scope="col" style="min-width:250px;">제품명</th>
                                                <th class="sort align-middle text-end" scope="col" style="width:300px;">가격</th>

                                                <th class="sort align-middle ps-5 text-center" scope="col" style="margin-left:200px;">수량</th>

                                                <th class="sort text-end align-middle pe-0" scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody class="list" id="cart-table-body">
                                            <th:block th:each="item : ${cart.itemList}">
                                                <tr class="cart-table-row btn-reveal-trigger">
                                                    <td class="align-middle white-space-nowrap py-0"><img th:src="@{|${awspath}/${item.image}|}" alt="" width="53" height="53" class ="d-block border rounded-2"/></td>
                                                    <td class="products align-middle">[[${item.name}]]</td>
                                                    <td class="price align-middle text-900 fs--1 fw-semi-bold text-end">[[${item.price}]]</td>
                                                    <td class="quantity align-middle fs-0 ps-5">
                                                        <div class="input-group input-group-sm flex-nowrap">
                                                            <input type="number" name="quantity" class="quantity" style="width: 50px;" th:value="${item.quantity}"  th:attr="data-id=${item.id}" min="1"/>
                                                        </div>
                                                    </td>
                                                    <td class="align-middle white-space-nowrap text-end pe-0 ps-3">
                                                        <button class="delete btn btn-sm text-500 hover-text-600 me-2" th:attr="data-id=${item.id}"><span class="fas fa-trash"></span></button>
                                                    </td>
                                                </tr>
                                            </th:block>
                                            </tbody>
                                        </table>
                                        <div class="container" style="text-align: center; position: relative;">
                                            <img src="../images/noItem.png" style="width: 500px; height: auto;" />
                                            <div>
                                                <a class="btn btn-secondary me-1 mb-1 btn-lg" href="/product/readList" >상품담기</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <div class="col-12 col-lg-4">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="d-flex flex-between-center mb-3">
                                            <h3 class="card-title mb-0">결제하기</h3>
                                        </div>
                                        <select class="form-select mb-3" aria-label="delivery type">
                                            <option value="card">Card</option>
                                        </select>

                                        <div class="d-flex justify-content-between border-y border-dashed py-3 mb-4">
                                            <h4 class="mb-0">총 금액 :</h4>
                                            <h4 class="mb-"><span class="total">
									[[${total}]]원
								</span></h4>
                                        </div>
                                        <button class="btn btn-primary w-100" onclick="requestPay()">결제하기<span class="fas fa-chevron-right ms-1 fs--2"></span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>
                    </div>
                    <!-- end of .container-->
                </div>
            </div>
        </div>
    </div>













</div>