<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout=http:www.ultraq.net.nz/thymeleaf/layout
      layout:decorate="~{fragments/layout1}">

<div layout:fragment="content">
  <div class="container">
    <div class="col-md-10 offset-md-1">
      <div class="card shadow-none border border-300 mb-3"
           data-component-card="data-component-card">
        <div class="card-header p-4 border-bottom border-300 bg-soft">
          <div class="d-flex justify-content-between align-items-center">
            <h3 class="text-900 mb-0" data-anchor="data-anchor">주문 목록</h3>
          </div>
        </div>
        <div class="card-body p-0">
          <div class="p-4 code-to-copy">

    <div id="orderTable" data-list='{"valueNames":["uid","name","total","step","createDate"],"page":10,"pagination":true,"filter":{"key":"delivery_status"}}'>
      <div class="mb-4">
        <div class="row g-3">
          <div class="col-auto">
            <div class="search-box">
              <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                <input class="form-control search-input search" type="search" placeholder="주문검색" aria-label="Search" />
                <span class="fas fa-search search-box-icon"></span>
              </form>
            </div>
          </div>
        </div>
      </div>



      <div class="bg-white border-top border-bottom border-200 position-relative top-1" style="width: 95%; margin-left: auto; margin-right: auto;">
        <div class="table-responsive scrollbar mx-n1 px-1">
          <table class="table table-sm fs--1 mb-0">
            <thead>
            <tr>
              <th class="sort white-space-nowrap align-middle pe-3" scope="col" data-sort="uid" style="width:20%;">주문번호</th>
              <th class="sort align-middle text-start" scope="col" data-sort="name" style="width:20%;">상품 명</th>
              <th class="sort align-middle" scope="col" data-sort="total" style="width:20%;">가격</th>
              <th class="sort align-middle pe-3" scope="col" data-sort="step" style="width:20%;">배송 상태</th>
              <th class="sort align-middle text-end pe-0" scope="col" data-sort="createDate" style="width:20%;">주문 날짜</th>
            </tr>
            </thead>
            <tbody class="list" id="order-table-body">
            <tr th:block th:each="delivery:${deliveries}" class="hover-actions-trigger btn-reveal-trigger position-static">


              <td class="uid align-middle white-space-nowrap py-0"><a class="fw-semi-bold" th:href="@{|/delivery/readDetail?id=${delivery.id}|}">[[${delivery.uid}]]</a></td>
              <td class="name align-middle white-space-nowrap text-900 fs--1 text-start">[[${delivery.name}]]</td>
              <td class="total align-middle fw-semi-bold text-1000">[[${delivery.total}]]원</td>
              <td class="step align-middle white-space-nowrap text-start fw-bold text-700">
                <div th:if="${delivery.statusList[#lists.size(delivery.statusList)-1].step eq '배송완료'}" class="badge badge-phoenix fs--1 badge-phoenix-success" style="width: 50%;">
					<span class="fw-bold" th:text="${delivery.statusList[#lists.size(delivery.statusList)-1].step}"></span>
				</div>
				<div th:unless="${delivery.statusList[#lists.size(delivery.statusList)-1].step eq '배송완료'}" class="badge badge-phoenix fs--1 badge-phoenix-warning" style="width: 50%;">
					<span class="fw-bold" th:text="${delivery.statusList[#lists.size(delivery.statusList)-1].step}"></span>
				</div>
              </td>
              <td class="createDate align-middle white-space-nowrap text-700 fs--1 ps-4 text-end">[[${#temporals.format(delivery.createDate, 'yyyy-MM-dd HH:mm')}]]</td>
            </tr>

            </tbody>
          </table>
        </div>

<br>
          <div class="col-auto d-flex justify-content-center">
            <button class="page-link" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
            <ul class="mb-0 pagination"></ul>
            <button class="page-link pe-0" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
          </div>
        <br>
      </div>
    </div>
  </div>
</div>

  </div>
    </div>
  </div>
</div>
